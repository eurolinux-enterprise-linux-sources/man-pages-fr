.\" t
.\"roff.\" Copyright
.\" This manpage is Copyright (C) 1996 Michael Haardt.
.\" Updates Nov 1998, Andries Brouwer
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one.
.\"
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\"
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH MOUSE 4 "10 février 1996" Linux "Manuel du programmeur Linux"
.SH NOM
mouse \- Interface de souris série.
.SH CONFIGURATION
Les souris série sont connectées sur une ligne d'interface RS232/V24. Voir
\fBttyS\fP(4) pour la description de ces lignes.
.SH DESCRIPTION
.SS Introduction
Le brochage de la prise DB9 classique utilisée pour les souris est le
suivant\ :
.TS
center;
r c l.
broche	nom	utilisation
2	RX	Données
3	TX	\-12 V, Imax = 10 mA
4	DTR	+12 V, Imax = 10 mA
7	RTS	+12 V, Imax = 10 mA
5	GND	Masse
.TE

Il ne s'agit que de spécifications. En réalité, 9\ V suffisent avec la
plupart des souris.
.PP
Le pilote peut s'assurer de la présence d'une souris en abaissant la tension
sur la broche RTS puis en la remontant. Environ 14\ ms plus tard, la souris
enverra l'octet 0x4D («\ M\ ») sur la ligne RX. Encore 63 ms plus tard, les
souris compatibles Microsoft enverront 0x33 («\ 3\ ») sur RX.
.PP
Le mouvement relatif de la souris est transmis en tant que \fIdx\fP (positif
vers la droite) et \fIdy\fP (positif vers le bas). Diverses souris peuvent
travailler avec des vitesses différentes. Pour sélectionner la vitesse, il
faut parcourir le cycle 9600, 4800, 2400 et 1200\ bit/sec, en envoyant
chaque fois les deux caractères de la table ci\-dessous, et attendre 0,1\
seconde. La table ci\-dessous montre les différentes vitesses, et les deux
caractères correspondants\ :
.TS
center;
l l.
bit/sec	message
9600	*q
4800	*p
2400	*o
1200	*n
.TE

Comme on peut le voir, le premier octet peut être utilisé pour se
synchroniser.
.SS "Protocole Microsoft"
Le protocole \fBMicrosoft\fP utilise 1 bit de Start, 7 bits de données, pas de
parité, et 1 bit de Stop, ceci à 1200 bits/sec. Les données sont envoyées
sur RX par paquets de 3 octets. Les mouvements \fIdx\fP et \fIdy\fP sont envoyés
sous forme de complément à 2. \fIlb\fP (\fIrb\fP) vaut 1 quand le bouton gauche
(droit) est pressé\ :
.TS
center;
r c c c c c c c.
octet	d6	d5	d4	d3	d2	d1	d0
1	1	lb	rb	dy7	dy6	dx7	dx6
2	0	dx5	dx4	dx3	dx2	dx1	dx0
3	0	dy5	dy4	dy3	dy2	dy1	dy0
.TE
.SS "Protocole 3 boutons de Microsoft"
Les souris Microsoft originales n'avaient que 2 boutons. Néanmoins, il
existe plusieurs souris à 3 boutons qui utilisent le protocole
Microsoft. Une pression ou un relâchement sur le 3e bouton (milieu) sont
indiqués par un paquet sans aucun mouvement et sans bouton pressé. De plus,
contrairement aux deux autres boutons, l'état du bouton central n'est pas
indiqué dans chaque paquet.
.SS "Protocole Logitech"
Les souris série Logitech à trois boutons peuvent utiliser plusieurs
extensions du protocole Microsoft\ : lorsque le bouton central est en haut,
le paquet de 3\ octets décrit ci\-dessus est envoyé. Lorsque le bouton est en
bas, un paquet de 4\ octets est envoyé, dont le quatrième octet a la valeur
0x20 (ou au moins le bit 0x20 à 1). En clair, une pression sur le bouton
central seul est indiquée par 0, 0, 0, 0x20.
.SS "Protocole Mousesystems"
Le protocole \fBMousesystems\fP utilise 1\ bit de Start, 8 bits de données, pas
de parité et 2\ bits de Stop, ceci à la vitesse de 1200\ bits/sec. Les
données sont envoyées sur RX par paquets de 5\ octets. \fIdx\fP est émis comme
la somme des deux valeurs en complément à 2. \fIdy\fP est émis comme inverse de
la somme des deux valeurs en complément à 2. \fIlb\fP (\fImb\fP, \fIrb\fP) sont mis à
zéro quand le bouton gauche (central, droit) est pressé\ :
.TS
center;
r c c c c c c c c.
octet	d7	d6	d5	d4	d3	d2	d1	d0
1	1	0	0	0	0	lb	mb	rb
2	0	dxa6	dxa5	dxa4	dxa3	dxa2	dxa1	dxa0
3	0	dya6	dya5	dya4	dya3	dya2	dya1	dya0
4	0	dxb6	dxb5	dxb4	dxb3	dxb2	dxb1	dxb0
5	0	dyb6	dyb5	dyb4	dyb3	dyb2	dyb1	dyb0
.TE

Les octets 4 et 5 indiquent les changements qui se sont produits depuis le
début d'émission des octets 2 et 3.
.SS "Protocole Sun"
Le protocole \fBSun\fP est la version 3\ octets du protocole à 5\ octets de
Mousesystems\ : les deux derniers octets ne sont pas envoyés.
.SS "Protocole MM"
Le protocole \fBMM\fP utilise 1\ bit de Start, 8\ bits de données, parité
impaire et 1\ bit de Stop, ceci à la vitesse de 1200\ bits/sec. Les données
sont envoyées sur RX par paquets de 5\ octets. \fIdx\fP et \fIdy\fP sont émis
comme des valeurs signées, le bit de signe indiquant une valeur
négative. \fIlb\fP (\fImb\fP, \fIrb\fP) sont mis à zéro quand le bouton gauche
(central, droit) est pressé\ :
.TS
center;
r c c c c c c c c.
octet	d7	d6	d5	d4	d3	d2	d1	d0
1	1	0	0	dxs	dys	lb	mb	rb
2	0	dx6	dx5	dx4	dx3	dx2	dx1	dx0
3	0	dy6	dy5	dy4	dy3	dy2	dy1	dy0
.TE
.SH FICHIERS
.TP 
\fI/dev/mouse\fP
Un lien symbolique habituellement utilisé pour pointer sur le périphérique
souris.
.SH "VOIR AUSSI"
\fBttyS\fP(4), \fBgpm\fP(8)
.SH COLOPHON
Cette page fait partie de la publication 3.23 du projet \fIman\-pages\fP
Linux. Une description du projet et des instructions pour signaler des
anomalies peuvent être trouvées à l'adresse
<URL:http://www.kernel.org/doc/man\-pages/>.
.SH TRADUCTION
Depuis 2010, cette traduction est maintenue à l'aide de l'outil
po4a <URL:http://po4a.alioth.debian.org/> par l'équipe de
traduction francophone au sein du projet perkamon
<URL:http://alioth.debian.org/projects/perkamon/>.
.PP
Christophe Blaess <URL:http://www.blaess.fr/christophe/> (1996-2003),
Alain Portal <URL:http://manpagesfr.free.fr/> (2003-2006).
Simon Paillard et l'équipe francophone de traduction de Debian\ (2006-2009).
.PP
Veuillez signaler toute erreur de traduction en écrivant à
<perkamon\-l10n\-fr@lists.alioth.debian.org>.
.PP
Vous pouvez toujours avoir accès à la version anglaise de ce document en
utilisant la commande
«\ \fBLC_ALL=C\ man\fR \fI<section>\fR\ \fI<page_de_man>\fR\ ».
